CREATE TABLE plans (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(50) NOT NULL UNIQUE, -- Free, Basic, Pro
    price DECIMAL(10,2) DEFAULT 0.00, -- 0 for Free, else set price
    duration_in_days INT DEFAULT 30,  -- plan validity

    -- Features
    verified_actor_badge BOOLEAN DEFAULT FALSE,
    consolidated_profile BOOLEAN DEFAULT FALSE,
    free_learning_videos BOOLEAN DEFAULT FALSE,
    regional_access BOOLEAN DEFAULT FALSE,
    bollywood_access BOOLEAN DEFAULT FALSE,
    tollywood_access BOOLEAN DEFAULT FALSE,
    pan_india_access BOOLEAN DEFAULT FALSE,
    direct_contact_cd BOOLEAN DEFAULT FALSE,
    unlimited_applications BOOLEAN DEFAULT FALSE,

    email_alerts BOOLEAN DEFAULT FALSE,
    whatsapp_alerts BOOLEAN DEFAULT FALSE,
    whatsapp_alerts_frequency ENUM('None','Daily','MWF','Weekly') DEFAULT 'None',

    max_pics_upload INT DEFAULT 0,
    max_intro_videos INT DEFAULT 0,
    max_audition_videos INT DEFAULT 0,
    max_work_links INT DEFAULT 0,

    masterclass_access BOOLEAN DEFAULT FALSE,
    showcase_featured BOOLEAN DEFAULT FALSE,

    reward_points_on_testimonial INT DEFAULT 0,

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);




CREATE TABLE users (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    personal_user_id VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,

    plan_id BIGINT, -- foreign key to plans table
    plan_expiry DATE,

    -- Social Links
    showcase_instagram_link VARCHAR(255),
    showcase_imdb_link VARCHAR(255),
    showcase_facebook_link VARCHAR(255),
    showcase_youtube_link VARCHAR(255),

    -- Tracking usage (not limits, limits come from plan)
    uploaded_pics_count INT DEFAULT 0,
    uploaded_intro_videos_count INT DEFAULT 0,
    uploaded_audition_videos_count INT DEFAULT 0,
    uploaded_work_links_count INT DEFAULT 0,

    reward_points INT DEFAULT 0,
    testimonial_video_submitted BOOLEAN DEFAULT FALSE,

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    CONSTRAINT fk_plan FOREIGN KEY (plan_id) REFERENCES plans(id)
);
